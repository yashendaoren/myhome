---
layout: post
title: 常用css 和 正则
date: 2017-06-20
category: [小程序与快应用,web开发]

---

### 多行限制 文字溢出换行 并显示 ...

```markdown

.board_list_content{

    display: -webkit-box;
    word-break: break-all;
    text-overflow: ellipsis;
    overflow: hidden;
    ont-size: 32rpx;
    -webkit-box-orient: vertical;
    -webkit-line-clamp:4;
    word-break: break-all;
    
}

```

### 文字单行 并显示 ...

```markdown

.board_list_content{

    display: block;
    font-size:28rpx;
    color:#000000;
    line-height: 40rpx;
    height: 120rpx;
    overflow: hidden;
    white-space: nowrap;
    text-overflow:ellipsis;
    word-break: break-all;
    
}

```

### 代码简介

```markdown

    white-space:nowrap;  //强制不换行
    
    text-overflow:ellipsis;//文字隐藏后添加省略号
    
    overflow:hidden; //超出文字自动隐藏

```

### 小程序当中的各种引用

```markdown

    @import 'style/weui.wxss'; //wxss 样式引用
    
    var Api = require('../../utils/api.js') //js 引用
    
    <import src="../../utils/loading.wxml"/> // <template>引用
    
    <include src="login.wxml" /> // 除<template>以外的其他标签引用

```
### 小程序浮层的实现

首先添加触摸方法 方法什么都不用做 只是为了隔断事件传递用的

```markdown

<view class='floatView' wx:if="{{isShowFloatView}}" capture-catch:touchstart="doNothing"></view>

```

再添加浮层的半透明属性、位置和层级就行了

```markdown

.floatView{
  width:100%; 
  height:100%;
  background-color:#000; 
  filter:alpha(opacity=50); 
  -moz-opacity:0.5; 
  opacity:0.5; 
  position:fixed; 
  left:0px; 
  top:90rpx; 
  z-index:1000;
  /* overflow: hidden; */
}

```
##  ---web--

### 获取文本行数
```
$('.desc').each(function(){

    var styles = window.getComputedStyle(this, null);
    var lh = parseInt(styles.lineHeight, 10); //行高
    var h = parseInt(styles.height, 10); //控件高度
    var lc = Math.round(h / lh); //文字行数

    // console.log(lh+"--"+h)
    // console.log(lc)
    if(lc==4){
        $(this).next().show()
    }else{
        $(this).next().hide()
    }
})

```

### 判断字符串结尾
```
//str是否以target结尾
function confirmEnding(str, target) {
    var start = str.length - target.length;
    var arr = str.substr(start, target.length);
    if (arr == target) {
        return true;
    }
    return false;
}
```

### 正则电话号码
```
function checkMobile(mobile) {
    var re = /^1\d{10}$/
    if (re.test(mobile)) {
        // console.log("正确");
        return true
    } else {
        // console.log("错误");
        return false
    }
}
```
