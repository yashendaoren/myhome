<!DOCTYPE html>
<html>

<head>
	<!-- meta information -->
<meta charset="utf-8">
<meta name="description" 
      content="Welcome to wanglizhen 的主页! - iOS开发 iOS技术探讨 开发中的bug记录 微信小程序开发技术探讨与bug记录 前端 html、js、css 开发  IT技术探讨 共同学习 共同进步" >
<meta name="author" content="wanglizhen（王立震） && Aigars Dzerviniks">

<!-- Enable responsiveness on mobile devices-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<!-- title -->
<title>JS 字符串 常用操作 &middot; wanglizhen 的主页</title>

<!-- icons -->
<link rel="shortcut icon" href="/assets/images/favicon.ico">

<!-- stylesheets -->
<link rel="stylesheet" href="/assets/css/responsive.gs.12col.css">
<link rel="stylesheet" href="/assets/css/animate.min.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/category.css"/>
<link rel="stylesheet" href="/assets/css/about.css"/>


<!-- Google fonts -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic&subset=latin-ext">


<!-- font Awesome -->
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">


<!-- feed links -->
<link rel="alternate" href="http://localhost:4000/feed.xml" type="application/rss+xml" title="wanglizhen 的主页">

</head>

<body>
	<main class="container avocado">
		
			<header>
				
				<div>
					<a href="http://localhost:4000" id="logo" title="wanglizhen 的主页" style="background-image: url(/assets/images/logo.png);"></a>
				</div>

				<nav id="main-navigation">
  
  
  <a href="https://www.wanglizhen.xyz/" title="Home">Home</a>
  
  
  
  <a href="https://www.wanglizhen.xyz/category/" title="Category">Category</a>
  
  
  
  <a href="https://www.wanglizhen.xyz/about/" title="about">about</a>
  
  
</nav>


			</header>

			
<div class="well article">
        <h2><a href="/str-js">JS 字符串 常用操作</a></h2>
        <span class="post-date">
            
            October-21-2017
        </span>
        <hr style="border-top:0px solid #28323C;"/>
    
    <div class="post-content">
    <p>我觉得 任何一门编程语言，需要处理最多的，就是字符串和数组，所以这里把字符串和数组的常用操作总结一下，本篇只记录字符串的方法</p>

<h3 id="常用方法">常用方法</h3>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

var str="hello world"; <span class="sb">


</span>//slice方法：第一个参数：子字符串开始位置，第二个参数：子字符串最后一个字符后面的位置 
console.log(str.slice(3,7));    //lo w  包含头不包含尾 
console.log(str.slice(3,-4));   //lo w  -4表示从后面向前4个长度的位置
console.log(str.slice(3));      //lo world 没有第二个参数，默认到字符串结尾

//substring方法：第一个参数：子字符串开始位置，第二个参数：子字符串最后一个字符后面的位置 
console.log(str.substring(3,7));    //lo w 
console.log(str.substring(3));      //lo world 
str.substring(3,0) == str.substring(0,3) //方法会将较小数作为开始位置较大数作为结束位置
str.substring(3,-4) == str.substring(3,0) == str.substring(0,3)

//substr方法：第一个参数：子字符串开始位置，第二个参数：返回的字符个数
console.log(str.substr(3,7));       //lo worl 7表示返回7个字符 
console.log(str.substr(3));         //lo world
console.log(str.substr(3,-4));      //""空字符串 
            

//indexOf方法：是从字符串的开头向后搜索子字符串
console.log(str.indexOf("o",6));    //7  
console.log(str.indexOf("o"));      //4 

//lastIndexOf方法：是从字符串的结尾向前搜索子字符串
console.log(str.lastIndexOf("o",6));//4 
console.log(str.lastIndexOf("o"));  //7 

indexOf方法和lastIndexOf方法：都是从一个字符串中搜索给定的子字符串，并返回子字符串的位置；
        如果没有找到，则返回-1。这两个方法都可以接收两个参数：要查找的子字符串和查找的位置<span class="sb">


</span>//trim方法：方法用来删除字符串前后的空格，并不会修改原字符串
var str="   hello world   "; 
console.log('('+str.trim()+')');    //(hello world) 
console.log('('+str+')');           //(   hello world   ) <span class="sb">




</span>//match方法：只接受一个参数，由字符串或RegExp对象指定的一个正则表达式 
var str="1 plus 2 equal 3"
document.write(str.match(/<span class="se">\d</span>+/g))  //1，2，3

//search方法：只接受一个参数，由字符串或RegExp对象指定的一个正则表达式 
        search方法返回字符串中第一个匹配项的索引，如果没有匹配项，返回-1 
var str="cat,bat,sat,fat"; 
var pattern=/.at/; 
var matches=str.match(pattern); 
console.log(matches.index);         //0 
console.log(matches<span class="p">[</span><span class="nv">0</span><span class="p">]</span>);            //cat 
console.log(pattern.lastIndex);     //0 lastIndex表示开始搜索下一个匹配项的字符位置
    从0算起 
var pos=str.search(/at/); 
console.log(pos);                   //1 1表示at字符串在原来字符串中第一次出现的位置<span class="sb">



</span>//replace方法
var str="cat,bat,sat,fat"; 
var res=str.replace("at","one");    //第一个参数是字符串，所以只会替换第一个子字符串 
console.log(res);//cone,bat,sat,fat 
var res1=str.replace(/at/g,"one");  //第一个参数是正则表达式，所以会替换所有的子字符串 
console.log(res1);//cone,bone,sone,fone <span class="sb">


</span>//split 将字符串分割成字符串数组 
//如果把空字符串 ("") 用作分割，那么 string 中的每个字符之间都会被分割。 
var str="red,blue,green,yellow"; 
console.log(str.split(","));    //<span class="p">[</span><span class="nv">"red", "blue", "green", "yellow"</span><span class="p">]</span> 
console.log(str.split(",",2));  //<span class="p">[</span><span class="nv">"red", "blue"</span><span class="p">]</span>  第二个参数用来限制数组大小

console.log(str.split(/<span class="p">[</span><span class="nv">^\,</span><span class="p">]</span>+/));// <span class="p">[</span><span class="nv">"", ",", ",", ",", ""</span><span class="p">]</span> 
//第一项和最后一项为空字符串是因为正则表达式指定的分隔符出现在了子字符串的开头，
    即"red"和"yellow" 。<span class="p">[</span><span class="nv">^...</span><span class="p">]</span> 表示不在方括号内的任意字符  只要不是逗号都是分隔符<span class="sb">


</span>//localeCompare 这个方法用于比较两个字符串
/<span class="err">*</span>
<span class="p">1.</span>如果字符串在字母表中应该排在字符串参数之前，则返回一个负数 
<span class="p">1.</span>如果字符串等于字符串参数，则返回0 
<span class="p">1.</span>如果字符串在字母表中应该排在字符串参数之后，则返回一个正数 
<span class="err">*</span>/
var str="yellow"; 
console.log(str.localeCompare("brick"));//1 
console.log(str.localeCompare("yellow"));//0 
console.log(str.localeCompare("zoo"));//-1 <span class="sb">


</span>//字符串大小写转换方法
var str="HELLO world"; 
console.log(str.toLowerCase());    //hello world 
console.log(str.toUpperCase());    //HELLO WORLD <span class="sb">


</span>//charAt方法是以单字符字符串的形式返回给定位置的那个字符 等同于下标。
    charCodeAt方法获取到的不是字符而是字符编码 
var str="hello" 
str.charAt(1)       //e 
str<span class="p">[</span><span class="nv">1</span><span class="p">]</span>              //e 
str.charCodeAt(1)   //101 <span class="sb">


</span>//concat方法 和 + 操作一样，一般不用
var str="hello "; 
var res=str.concat("world"); 
console.log(res);               //hello world 
console.log(str);               //hello  原字符串的值未改变 
var res1=str.concat("nihao","!"); 
console.log(res1);              //hello nihao!  concat方法可以接收任意多个参数 <span class="sb">


</span></code></pre></div></div>

<h3 id="不常用方法">不常用方法</h3>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
//fromCharCode方法 编码转字符串
/<span class="err">*</span> 
fromCharCode方法是接收一或多个字符编码，然后将其转换为字符串 
fromCharCode方法是String构造函数的一个静态方法 
<span class="err">*</span>/
console.log(String.fromCharCode(104,101,108,108,111));  //hello <span class="sb">


</span>//找到匹配字符串所在的各个位置
var str="asadajhjkadaaasdasdasdasd"; 
var position=<span class="err">[</span>]; 
var pos=str.indexOf("d"); 
while(pos&gt;-1){ 
    position.push(pos); 
    pos=str.indexOf("d",pos+1); 
} 
console.log(position);          //<span class="p">[</span><span class="nv">3, 10, 15, 18, 21, 24</span><span class="p">]</span> <span class="sb">


</span>//字符串去重
//String.split() 执行的操作与 Array.join 执行的操作是相反的 
//split() 方法用于把一个字符串分割成字符串数组。 
//join方法用于将字符串数组连接成一个字符串 

var str="aahhgggsssjjj";  //这里字符串没有可以分隔的字符，所以需要使用空字符串作为分隔符 
function unique(msg){ 
    var res=<span class="err">[</span>]; 
    var arr=msg.split(""); 
    //console.log(arr); 
    
    for(var i=0;i&lt;arr.length;i++){ 
        if(res.indexOf(arr<span class="p">[</span><span class="nv">i</span><span class="p">]</span>)==-1){ 
            res.push(arr<span class="p">[</span><span class="nv">i</span><span class="p">]</span>); 
        } 
    }
    
    return res.join(""); 
    
} 

console.log(unique(str));   //ahgsj <span class="sb">


</span></code></pre></div></div>

<h3 id="json-和-字符串-相互转换">json 和 字符串 相互转换</h3>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
//JSON字符串:
var str1 = '{ "name": "张三", "age": "22" }'; 
//JSON对象:
var str2 = { "name": "张三", "sex": "22" };<span class="sb">


</span>//由JSON字符串转换为JSON对象

var obj = eval('(' + str + ')');

或者

var obj = str.parseJSON();

或者

var obj = JSON.parse(str);<span class="sb">



</span>//将JSON对象转化为JSON字符

var last=obj.toJSONString(); 

或者

var last=JSON.stringify(obj);<span class="sb">




</span></code></pre></div></div>


    <hr style="border-top:0px solid #28323C;"/>

    <!-- tags and categories under post -->
    
    <ul class="list-unstyled list-inline">
      <li><i class="icon-folder-open"></i></li>
      
      
         
            <li class="icon-style"><a href="/categories.html">
                web开发 <span>(7)</span>
                
            </a></li>
        
      
    </ul>
      

    <!--    -->

    </div>
    
</div>
<div class="pagination">
    
    <a class="btn btn-default" href="/array-js" class="next">上一篇</a>
    
    
    <a class="btn btn-default" href="/js_wx" class="previous">下一篇</a>
    
</div>

			<footer>
				<p>
					This work is licensed under a
					<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/deed.en_US">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
				</p>
				<p>
					Powered by
					<a rel="license" target="_blank" href="https://jekyllrb.com">Jekyll</a> ,
					<a rel="license" target="_blank" href="https://github.com">Github</a> ,
					<a rel="license" target="_blank" href="https://www.wanglizhen.xyz/">wanglizhen</a>
				</p>
			</footer>
	</main>
</body>

</html>